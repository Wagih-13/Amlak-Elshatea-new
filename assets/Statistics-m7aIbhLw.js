import{u as x,j as e,r as a}from"./index-UIuYEt_z.js";import{F as v}from"./index.es-UzAdvkII.js";import{r as f}from"./index-5OaO6oW1.js";import{d as p}from"./HomeData-DWUqC6kp.js";import"./useQuery-_5io8ruZ.js";const b=()=>{const{stats:t}=p(),{t:s}=x();return e.jsxs("div",{className:"stats-container",id:"stats",children:[e.jsx("h1",{className:"mb-[3rem] text-center",children:s("statistics.title")}),e.jsxs("div",{className:"stats",children:[e.jsx(c,{title:s("statistics.unitsAvailable"),endValue:t==null?void 0:t.availableUnits}),e.jsx(c,{title:s("statistics.reservations"),endValue:t==null?void 0:t.bookedUnits}),e.jsx(c,{title:s("statistics.numunits"),endValue:t==null?void 0:t.units}),e.jsx(c,{title:s("statistics.numcustomers"),endValue:t==null?void 0:t.visitors})]})]})};function c({title:t,startValue:s=0,endValue:m=0}){const i=a.useRef(null),[r,l]=a.useState(void 0);return a.useEffect(()=>{const n=i.current,o=()=>l(n==null?void 0:n.getBoundingClientRect());return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[l]),a.useEffect(()=>{const n=i.current,o=parseInt(i.current.dataset.goal??"0"),d=setInterval(()=>{var u;n&&r&&r.top>=0&&r.top<=(window.innerHeight||document.documentElement.clientHeight)&&((u=i.current)==null?void 0:u.textContent)!==`${o}`&&(n.textContent=(parseInt(n.textContent??"0")+1).toString())},100);return()=>{clearInterval(d)}},[r]),e.jsxs("div",{className:"box bg-[var(--white-color)] text-[var(--main-color)] dark:bg-[var(--dark-60)]",children:[e.jsx(v,{fontSize:30,icon:f}),e.jsx("span",{ref:i,className:"number","data-goal":m,children:s}),e.jsx("span",{className:"text text-[var(--main-dark)] dark:text-[var(--white-color)]",children:t})]})}export{b as default};
