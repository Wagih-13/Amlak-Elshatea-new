import{u as W,j as e,r as j,R as O,g as Ue,b as Ke,B as Ze,c as Ne,d as Ie,L as et,e as Ce,f as Le,S as ve,s as $e,F as tt}from"./index-Sf6fg46U.js";import at from"./Navbar-bcORA1nJ.js";import{e as st,a as we,b as nt,S as it,c as rt}from"./swiper-vsMXPJCp.js";import{c as lt}from"./create-element-if-not-defined-Bm-Okb95.js";import ot from"./Footer-Ny39s7pD.js";import{C as Fe}from"./Calendar-KgVnvzL9.js";import{u as Ae}from"./hooks-oX7oBvWv.js";import{S as ct,F as dt,a as mt,K as ut,B as pt,C as ft,N as ht}from"./Icons-dU-C2Yh4.js";import{u as K,a as me}from"./UnitDetails-oXQ1eoXl.js";import{F as G}from"./index.es--8fXy3b_.js";import{f as ke,a as Re,b as xt,c as gt,d as jt,e as vt,g as yt,h as bt,i as Nt,j as Ct,k as kt}from"./index-5OaO6oW1.js";import{M as ue}from"./MainButton-uTkjP8iy.js";import{S as Oe}from"./SecondaryButton-GMWNKb-H.js";import{P as wt}from"./index-TawT_CZZ.js";import{A as Dt,p as St}from"./AsYouType-4Zv7KiGA.js";import{f as Et,F as Pt}from"./FavoriteButton-Pmq8Vh11.js";import{M as Ut,T as It,a as Lt,b as $t}from"./MarkerIcon-NKZHiDB-.js";import{u as Ft}from"./useUnitRating-9oolTxHz.js";import"./useQuery-jp5Q6j4G.js";import"./HomeData-cfDWNHnc.js";import"./index-BFOVBzNa.js";import"./web-XXT56KXo.js";function ne(a){return a===void 0&&(a=""),`.${a.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function At(a){let{swiper:t,extendParams:c,on:o,emit:s}=a;const d="swiper-pagination";c({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:r=>r,formatFractionTotal:r=>r,bulletClass:`${d}-bullet`,bulletActiveClass:`${d}-bullet-active`,modifierClass:`${d}-`,currentClass:`${d}-current`,totalClass:`${d}-total`,hiddenClass:`${d}-hidden`,progressbarFillClass:`${d}-progressbar-fill`,progressbarOppositeClass:`${d}-progressbar-opposite`,clickableClass:`${d}-clickable`,lockClass:`${d}-lock`,horizontalClass:`${d}-horizontal`,verticalClass:`${d}-vertical`,paginationDisabledClass:`${d}-disabled`}}),t.pagination={el:null,bullets:[]};let n,l=0;const u=r=>(Array.isArray(r)?r:[r]).filter(i=>!!i);function C(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&t.pagination.el.length===0}function p(r,i){const{bulletActiveClass:m}=t.params.pagination;r&&(r=r[`${i==="prev"?"previous":"next"}ElementSibling`],r&&(r.classList.add(`${m}-${i}`),r=r[`${i==="prev"?"previous":"next"}ElementSibling`],r&&r.classList.add(`${m}-${i}-${i}`)))}function E(r){const i=r.target.closest(ne(t.params.pagination.bulletClass));if(!i)return;r.preventDefault();const m=we(i)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===m)return;t.slideToLoop(m)}else t.slideTo(m)}function v(){const r=t.rtl,i=t.params.pagination;if(C())return;let m=t.pagination.el;m=u(m);let w,g;const x=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,f=t.params.loop?Math.ceil(x/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(g=t.previousRealIndex||0,w=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):typeof t.snapIndex<"u"?(w=t.snapIndex,g=t.previousSnapIndex):(g=t.previousIndex||0,w=t.activeIndex||0),i.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const h=t.pagination.bullets;let L,U,B;if(i.dynamicBullets&&(n=st(h[0],t.isHorizontal()?"width":"height",!0),m.forEach(b=>{b.style[t.isHorizontal()?"width":"height"]=`${n*(i.dynamicMainBullets+4)}px`}),i.dynamicMainBullets>1&&g!==void 0&&(l+=w-(g||0),l>i.dynamicMainBullets-1?l=i.dynamicMainBullets-1:l<0&&(l=0)),L=Math.max(w-l,0),U=L+(Math.min(h.length,i.dynamicMainBullets)-1),B=(U+L)/2),h.forEach(b=>{const D=[...["","-next","-next-next","-prev","-prev-prev","-main"].map($=>`${i.bulletActiveClass}${$}`)].map($=>typeof $=="string"&&$.includes(" ")?$.split(" "):$).flat();b.classList.remove(...D)}),m.length>1)h.forEach(b=>{const D=we(b);D===w?b.classList.add(...i.bulletActiveClass.split(" ")):t.isElement&&b.setAttribute("part","bullet"),i.dynamicBullets&&(D>=L&&D<=U&&b.classList.add(...`${i.bulletActiveClass}-main`.split(" ")),D===L&&p(b,"prev"),D===U&&p(b,"next"))});else{const b=h[w];if(b&&b.classList.add(...i.bulletActiveClass.split(" ")),t.isElement&&h.forEach((D,$)=>{D.setAttribute("part",$===w?"bullet-active":"bullet")}),i.dynamicBullets){const D=h[L],$=h[U];for(let z=L;z<=U;z+=1)h[z]&&h[z].classList.add(...`${i.bulletActiveClass}-main`.split(" "));p(D,"prev"),p($,"next")}}if(i.dynamicBullets){const b=Math.min(h.length,i.dynamicMainBullets+4),D=(n*b-n)/2-B*n,$=r?"right":"left";h.forEach(z=>{z.style[t.isHorizontal()?$:"top"]=`${D}px`})}}m.forEach((h,L)=>{if(i.type==="fraction"&&(h.querySelectorAll(ne(i.currentClass)).forEach(U=>{U.textContent=i.formatFractionCurrent(w+1)}),h.querySelectorAll(ne(i.totalClass)).forEach(U=>{U.textContent=i.formatFractionTotal(f)})),i.type==="progressbar"){let U;i.progressbarOpposite?U=t.isHorizontal()?"vertical":"horizontal":U=t.isHorizontal()?"horizontal":"vertical";const B=(w+1)/f;let b=1,D=1;U==="horizontal"?b=B:D=B,h.querySelectorAll(ne(i.progressbarFillClass)).forEach($=>{$.style.transform=`translate3d(0,0,0) scaleX(${b}) scaleY(${D})`,$.style.transitionDuration=`${t.params.speed}ms`})}i.type==="custom"&&i.renderCustom?(h.innerHTML=i.renderCustom(t,w+1,f),L===0&&s("paginationRender",h)):(L===0&&s("paginationRender",h),s("paginationUpdate",h)),t.params.watchOverflow&&t.enabled&&h.classList[t.isLocked?"add":"remove"](i.lockClass)})}function F(){const r=t.params.pagination;if(C())return;const i=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.grid&&t.params.grid.rows>1?t.slides.length/Math.ceil(t.params.grid.rows):t.slides.length;let m=t.pagination.el;m=u(m);let w="";if(r.type==="bullets"){let g=t.params.loop?Math.ceil(i/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&g>i&&(g=i);for(let x=0;x<g;x+=1)r.renderBullet?w+=r.renderBullet.call(t,x,r.bulletClass):w+=`<${r.bulletElement} ${t.isElement?'part="bullet"':""} class="${r.bulletClass}"></${r.bulletElement}>`}r.type==="fraction"&&(r.renderFraction?w=r.renderFraction.call(t,r.currentClass,r.totalClass):w=`<span class="${r.currentClass}"></span> / <span class="${r.totalClass}"></span>`),r.type==="progressbar"&&(r.renderProgressbar?w=r.renderProgressbar.call(t,r.progressbarFillClass):w=`<span class="${r.progressbarFillClass}"></span>`),t.pagination.bullets=[],m.forEach(g=>{r.type!=="custom"&&(g.innerHTML=w||""),r.type==="bullets"&&t.pagination.bullets.push(...g.querySelectorAll(ne(r.bulletClass)))}),r.type!=="custom"&&s("paginationRender",m[0])}function S(){t.params.pagination=lt(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const r=t.params.pagination;if(!r.el)return;let i;typeof r.el=="string"&&t.isElement&&(i=t.el.querySelector(r.el)),!i&&typeof r.el=="string"&&(i=[...document.querySelectorAll(r.el)]),i||(i=r.el),!(!i||i.length===0)&&(t.params.uniqueNavElements&&typeof r.el=="string"&&Array.isArray(i)&&i.length>1&&(i=[...t.el.querySelectorAll(r.el)],i.length>1&&(i=i.filter(m=>nt(m,".swiper")[0]===t.el)[0])),Array.isArray(i)&&i.length===1&&(i=i[0]),Object.assign(t.pagination,{el:i}),i=u(i),i.forEach(m=>{r.type==="bullets"&&r.clickable&&m.classList.add(...(r.clickableClass||"").split(" ")),m.classList.add(r.modifierClass+r.type),m.classList.add(t.isHorizontal()?r.horizontalClass:r.verticalClass),r.type==="bullets"&&r.dynamicBullets&&(m.classList.add(`${r.modifierClass}${r.type}-dynamic`),l=0,r.dynamicMainBullets<1&&(r.dynamicMainBullets=1)),r.type==="progressbar"&&r.progressbarOpposite&&m.classList.add(r.progressbarOppositeClass),r.clickable&&m.addEventListener("click",E),t.enabled||m.classList.add(r.lockClass)}))}function k(){const r=t.params.pagination;if(C())return;let i=t.pagination.el;i&&(i=u(i),i.forEach(m=>{m.classList.remove(r.hiddenClass),m.classList.remove(r.modifierClass+r.type),m.classList.remove(t.isHorizontal()?r.horizontalClass:r.verticalClass),r.clickable&&(m.classList.remove(...(r.clickableClass||"").split(" ")),m.removeEventListener("click",E))})),t.pagination.bullets&&t.pagination.bullets.forEach(m=>m.classList.remove(...r.bulletActiveClass.split(" ")))}o("changeDirection",()=>{if(!t.pagination||!t.pagination.el)return;const r=t.params.pagination;let{el:i}=t.pagination;i=u(i),i.forEach(m=>{m.classList.remove(r.horizontalClass,r.verticalClass),m.classList.add(t.isHorizontal()?r.horizontalClass:r.verticalClass)})}),o("init",()=>{t.params.pagination.enabled===!1?P():(S(),F(),v())}),o("activeIndexChange",()=>{typeof t.snapIndex>"u"&&v()}),o("snapIndexChange",()=>{v()}),o("snapGridLengthChange",()=>{F(),v()}),o("destroy",()=>{k()}),o("enable disable",()=>{let{el:r}=t.pagination;r&&(r=u(r),r.forEach(i=>i.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass)))}),o("lock unlock",()=>{v()}),o("click",(r,i)=>{const m=i.target,w=u(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&w&&w.length>0&&!m.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&m===t.navigation.nextEl||t.navigation.prevEl&&m===t.navigation.prevEl))return;const g=w[0].classList.contains(t.params.pagination.hiddenClass);s(g===!0?"paginationShow":"paginationHide"),w.forEach(x=>x.classList.toggle(t.params.pagination.hiddenClass))}});const I=()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:r}=t.pagination;r&&(r=u(r),r.forEach(i=>i.classList.remove(t.params.pagination.paginationDisabledClass))),S(),F(),v()},P=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:r}=t.pagination;r&&(r=u(r),r.forEach(i=>i.classList.add(t.params.pagination.paginationDisabledClass))),k()};Object.assign(t.pagination,{enable:I,disable:P,render:F,update:v,init:S,destroy:k})}const pe=(a,t)=>t==="en"?a===1?"One night":`${a} nights`:a===1?"ليلة واحدة":a===2?"ليلتان":a>10?`${a} ليلة`:`${a} ليال`;function Be(a){return a.getDay()>=4&&a.getDay()<=5}function fe(a,t){let c,o;for(c=[],o=new Date(a);o<=new Date(t);o.setDate(o.getDate()+1))c.push(new Date(o));return c}const Me=()=>{var c,o,s,d;const{t:a}=W(),{unitDetails:t}=K();return e.jsxs("article",{children:[t&&((c=t.areaUnitSpecification)==null?void 0:c.length)>0&&e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"my-[1rem]",children:[e.jsxs("h1",{className:"mb-[1rem] flex items-center justify-start gap-3 text-[2rem] font-[600]",children:[e.jsx("div",{className:"size-[2rem] fill-[var(--main-dark)] dark:fill-[var(--primary-color)]",children:e.jsx(ct,{})}),e.jsx("p",{children:a("unitDetail.specification.title")})]}),e.jsx("ul",{className:"list-inside list-disc space-y-4 text-[1.25rem]",children:t.areaUnitSpecification.map(n=>e.jsx("li",{children:n.name},n.code))})]}),e.jsx("hr",{})]}),t&&((o=t.areaUnitFacilitiesData)==null?void 0:o.length)>0&&e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"my-[1rem]",children:[e.jsxs("h1",{className:"mb-[1rem] flex items-center justify-start gap-3 text-[2rem] font-[600]",children:[e.jsx("div",{className:"size-[2rem] fill-[var(--main-dark)] dark:fill-[var(--primary-color)]",children:e.jsx(dt,{})}),e.jsx("p",{children:a("unitDetail.specification.utilities.title")})]}),e.jsx("ul",{className:"list-inside list-disc space-y-4 text-[1.25rem]",children:t.areaUnitFacilitiesData.map(n=>e.jsx("li",{children:n.name},n.code))})]}),e.jsx("hr",{})]}),t&&((s=t.areaUnitFeaturesData)==null?void 0:s.length)>0&&e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"my-[1rem]",children:[e.jsxs("h1",{className:"mb-[1rem] flex items-center justify-start gap-3 text-[2rem] font-[600]",children:[e.jsx("div",{className:"size-[2rem] fill-[var(--main-dark)] dark:fill-[var(--primary-color)]",children:e.jsx(mt,{})}),e.jsx("p",{children:a("unitDetail.specification.features.title")})]}),e.jsx("ul",{className:"list-inside list-disc space-y-4 text-[1.25rem]",children:t.areaUnitFeaturesData.map(n=>e.jsx("li",{children:n.name},n.code))})]}),e.jsx("hr",{})]}),t&&((d=t.areaUnitskitchen)==null?void 0:d.length)>0&&e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"my-[1rem]",children:[e.jsxs("h1",{className:"mb-[1rem] flex items-center justify-start gap-3 text-[2rem] font-[600]",children:[e.jsx("div",{className:"size-[2rem] fill-[var(--main-dark)] dark:fill-[var(--primary-color)]",children:e.jsx(ut,{})}),e.jsx("p",{children:a("unitDetail.specification.kitchen.title")})]}),e.jsx("ul",{className:"list-inside list-disc space-y-4 text-[1.25rem]",children:t.areaUnitskitchen.map(n=>e.jsx("li",{children:n.name},n.code))})]}),e.jsx("hr",{})]}),t&&+t.areaUnitBedRoomsNo>0&&e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"my-[1rem]",children:[e.jsxs("div",{className:"mb-[1rem] flex items-center justify-start gap-3 text-[2rem] font-[600]",children:[e.jsx("div",{className:"size-[2rem] fill-[var(--main-dark)] dark:fill-[var(--primary-color)]",children:e.jsx(pt,{})}),e.jsx("p",{children:a("unitDetail.specification.bedrooms.title")})]}),e.jsx("ul",{className:"list-inside list-disc space-y-4 text-[1.25rem]",children:e.jsxs("li",{className:"mb-[1rem]",children:[t.areaUnitBedRoomsNo," ",a("unitDetail.specification.bedrooms.title")," (",t.areaUnitMasterBedsNo," ",a("unitDetail.specification.bedrooms.master"),")"]})})]}),e.jsx("hr",{})]})]})};function Rt({review:a}){var n;const[t,c]=W(),o=c.language==="en"?"en-us":"ar-EG",s=new Date(a.craeteUserDate),d=a.craeteUserDate?s.toLocaleDateString(o,{weekday:"long",day:"numeric",month:"long"}):"";return e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-2 text-[var(--main-dark)] dark:text-[var(--primary-color)]",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{children:e.jsx("img",{src:"/images/user-avatar.png",alt:"user avatar",width:"60px"})}),e.jsxs("div",{className:"flex h-full flex-col justify-center gap-2",children:[e.jsx("h1",{className:"text-2xl font-[600] text-[var(--main-color)]",children:"زائر"}),e.jsx("p",{children:d})]})]}),e.jsxs("h2",{className:"flex items-center gap-4",children:[e.jsx(G,{icon:ke,color:"var(--main-color)"})," ",e.jsx("span",{children:t(`unitDetail.unitReviews.ratingText.${Math.floor(a.areaUnitRate)}`)}),"•",e.jsx("span",{children:a.areaUnitRate})]}),e.jsx("p",{className:"mt-4",children:a.areaUnitCommentText})]}),((n=a.areaUnitReply)==null?void 0:n.length)>0&&e.jsx(Ot,{review:a})]})}function Ot({review:a}){const[t,c]=W(),o=c.language==="en"?"en-us":"ar-EG",s=new Date(a.craeteUserDate),d=a.craeteUserDate?s.toLocaleDateString(o,{weekday:"long",day:"numeric",month:"long"}):"";return e.jsxs("div",{className:"flex flex-col gap-2 mx-1 mb-5 rounded-lg bg-[#c7c7c79f] p-5 shadow-lg dark:bg-[#0000009f]",children:[e.jsx("h1",{className:"text-xl font-[700] text-[var(--main-color)]",children:e.jsx("span",{children:t("unitDetail.unitReviews.host")})}),e.jsx("h2",{className:"text-gray-600",children:d}),e.jsx("p",{className:"mt-4 dark:text-[var(--primary-color)]",children:a.areaUnitReply})]})}function _e(a){var t,c,o="";if(typeof a=="string"||typeof a=="number")o+=a;else if(typeof a=="object")if(Array.isArray(a)){var s=a.length;for(t=0;t<s;t++)a[t]&&(c=_e(a[t]))&&(o&&(o+=" "),o+=c)}else for(c in a)a[c]&&(o&&(o+=" "),o+=c);return o}function ae(){for(var a,t,c=0,o="",s=arguments.length;c<s;c++)(a=arguments[c])&&(t=_e(a))&&(o&&(o+=" "),o+=t);return o}const re=a=>typeof a=="number"&&!isNaN(a),se=a=>typeof a=="string",J=a=>typeof a=="function",de=a=>se(a)||J(a)?a:null,ye=a=>j.isValidElement(a)||se(a)||J(a)||re(a);function Bt(a,t,c){c===void 0&&(c=300);const{scrollHeight:o,style:s}=a;requestAnimationFrame(()=>{s.minHeight="initial",s.height=o+"px",s.transition=`all ${c}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,c)})})}function xe(a){let{enter:t,exit:c,appendPosition:o=!1,collapse:s=!0,collapseDuration:d=300}=a;return function(n){let{children:l,position:u,preventExitTransition:C,done:p,nodeRef:E,isIn:v,playToast:F}=n;const S=o?`${t}--${u}`:t,k=o?`${c}--${u}`:c,I=j.useRef(0);return j.useLayoutEffect(()=>{const P=E.current,r=S.split(" "),i=m=>{m.target===E.current&&(F(),P.removeEventListener("animationend",i),P.removeEventListener("animationcancel",i),I.current===0&&m.type!=="animationcancel"&&P.classList.remove(...r))};P.classList.add(...r),P.addEventListener("animationend",i),P.addEventListener("animationcancel",i)},[]),j.useEffect(()=>{const P=E.current,r=()=>{P.removeEventListener("animationend",r),s?Bt(P,p,d):p()};v||(C?r():(I.current=1,P.className+=` ${k}`,P.addEventListener("animationend",r)))},[v]),O.createElement(O.Fragment,null,l)}}function De(a,t){return a!=null?{content:a.content,containerId:a.props.containerId,id:a.props.toastId,theme:a.props.theme,type:a.props.type,data:a.props.data||{},isLoading:a.props.isLoading,icon:a.props.icon,status:t}:{}}const V=new Map;let le=[];const be=new Set,Mt=a=>be.forEach(t=>t(a)),ze=()=>V.size>0;function Te(a,t){var c;if(t)return!((c=V.get(t))==null||!c.isToastActive(a));let o=!1;return V.forEach(s=>{s.isToastActive(a)&&(o=!0)}),o}function He(a,t){ye(a)&&(ze()||le.push({content:a,options:t}),V.forEach(c=>{c.buildToast(a,t)}))}function Se(a,t){V.forEach(c=>{t!=null&&t!=null&&t.containerId?(t==null?void 0:t.containerId)===c.id&&c.toggle(a,t==null?void 0:t.id):c.toggle(a,t==null?void 0:t.id)})}function _t(a){const{subscribe:t,getSnapshot:c,setProps:o}=j.useRef(function(d){const n=d.containerId||1;return{subscribe(l){const u=function(p,E,v){let F=1,S=0,k=[],I=[],P=[],r=E;const i=new Map,m=new Set,w=()=>{P=Array.from(i.values()),m.forEach(f=>f())},g=f=>{I=f==null?[]:I.filter(h=>h!==f),w()},x=f=>{const{toastId:h,onOpen:L,updateId:U,children:B}=f.props,b=U==null;f.staleId&&i.delete(f.staleId),i.set(h,f),I=[...I,f.props.toastId].filter(D=>D!==f.staleId),w(),v(De(f,b?"added":"updated")),b&&J(L)&&L(j.isValidElement(B)&&B.props)};return{id:p,props:r,observe:f=>(m.add(f),()=>m.delete(f)),toggle:(f,h)=>{i.forEach(L=>{h!=null&&h!==L.props.toastId||J(L.toggle)&&L.toggle(f)})},removeToast:g,toasts:i,clearQueue:()=>{S-=k.length,k=[]},buildToast:(f,h)=>{if((N=>{let{containerId:A,toastId:_,updateId:T}=N;const q=A?A!==p:p!==1,te=i.has(_)&&T==null;return q||te})(h))return;const{toastId:L,updateId:U,data:B,staleId:b,delay:D}=h,$=()=>{g(L)},z=U==null;z&&S++;const H={...r,style:r.toastStyle,key:F++,...Object.fromEntries(Object.entries(h).filter(N=>{let[A,_]=N;return _!=null})),toastId:L,updateId:U,data:B,closeToast:$,isIn:!1,className:de(h.className||r.toastClassName),bodyClassName:de(h.bodyClassName||r.bodyClassName),progressClassName:de(h.progressClassName||r.progressClassName),autoClose:!h.isLoading&&(Y=h.autoClose,X=r.autoClose,Y===!1||re(Y)&&Y>0?Y:X),deleteToast(){const N=i.get(L),{onClose:A,children:_}=N.props;J(A)&&A(j.isValidElement(_)&&_.props),v(De(N,"removed")),i.delete(L),S--,S<0&&(S=0),k.length>0?x(k.shift()):w()}};var Y,X;H.closeButton=r.closeButton,h.closeButton===!1||ye(h.closeButton)?H.closeButton=h.closeButton:h.closeButton===!0&&(H.closeButton=!ye(r.closeButton)||r.closeButton);let M=f;j.isValidElement(f)&&!se(f.type)?M=j.cloneElement(f,{closeToast:$,toastProps:H,data:B}):J(f)&&(M=f({closeToast:$,toastProps:H,data:B}));const y={content:M,props:H,staleId:b};r.limit&&r.limit>0&&S>r.limit&&z?k.push(y):re(D)?setTimeout(()=>{x(y)},D):x(y)},setProps(f){r=f},setToggle:(f,h)=>{i.get(f).toggle=h},isToastActive:f=>I.some(h=>h===f),getSnapshot:()=>r.newestOnTop?P.reverse():P}}(n,d,Mt);V.set(n,u);const C=u.observe(l);return le.forEach(p=>He(p.content,p.options)),le=[],()=>{C(),V.delete(n)}},setProps(l){var u;(u=V.get(n))==null||u.setProps(l)},getSnapshot(){var l;return(l=V.get(n))==null?void 0:l.getSnapshot()}}}(a)).current;o(a);const s=j.useSyncExternalStore(t,c,c);return{getToastToRender:function(d){if(!s)return[];const n=new Map;return s.forEach(l=>{const{position:u}=l.props;n.has(u)||n.set(u,[]),n.get(u).push(l)}),Array.from(n,l=>d(l[0],l[1]))},isToastActive:Te,count:s==null?void 0:s.length}}function zt(a){const[t,c]=j.useState(!1),[o,s]=j.useState(!1),d=j.useRef(null),n=j.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:u,closeToast:C,onClick:p,closeOnClick:E}=a;var v,F;function S(){c(!0)}function k(){c(!1)}function I(i){const m=d.current;n.canDrag&&m&&(n.didMove=!0,t&&k(),n.delta=a.draggableDirection==="x"?i.clientX-n.start:i.clientY-n.start,n.start!==i.clientX&&(n.canCloseOnClick=!1),m.style.transform=`translate3d(${a.draggableDirection==="x"?`${n.delta}px, var(--y)`:`0, calc(${n.delta}px + var(--y))`},0)`,m.style.opacity=""+(1-Math.abs(n.delta/n.removalDistance)))}function P(){document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",P);const i=d.current;if(n.canDrag&&n.didMove&&i){if(n.canDrag=!1,Math.abs(n.delta)>n.removalDistance)return s(!0),a.closeToast(),void a.collapseAll();i.style.transition="transform 0.2s, opacity 0.2s",i.style.removeProperty("transform"),i.style.removeProperty("opacity")}}(F=V.get((v={id:a.toastId,containerId:a.containerId,fn:c}).containerId||1))==null||F.setToggle(v.id,v.fn),j.useEffect(()=>{if(a.pauseOnFocusLoss)return document.hasFocus()||k(),window.addEventListener("focus",S),window.addEventListener("blur",k),()=>{window.removeEventListener("focus",S),window.removeEventListener("blur",k)}},[a.pauseOnFocusLoss]);const r={onPointerDown:function(i){if(a.draggable===!0||a.draggable===i.pointerType){n.didMove=!1,document.addEventListener("pointermove",I),document.addEventListener("pointerup",P);const m=d.current;n.canCloseOnClick=!0,n.canDrag=!0,m.style.transition="none",a.draggableDirection==="x"?(n.start=i.clientX,n.removalDistance=m.offsetWidth*(a.draggablePercent/100)):(n.start=i.clientY,n.removalDistance=m.offsetHeight*(a.draggablePercent===80?1.5*a.draggablePercent:a.draggablePercent)/100)}},onPointerUp:function(i){const{top:m,bottom:w,left:g,right:x}=d.current.getBoundingClientRect();i.nativeEvent.type!=="touchend"&&a.pauseOnHover&&i.clientX>=g&&i.clientX<=x&&i.clientY>=m&&i.clientY<=w?k():S()}};return l&&u&&(r.onMouseEnter=k,a.stacked||(r.onMouseLeave=S)),E&&(r.onClick=i=>{p&&p(i),n.canCloseOnClick&&C()}),{playToast:S,pauseToast:k,isRunning:t,preventExitTransition:o,toastRef:d,eventHandlers:r}}function Tt(a){let{delay:t,isRunning:c,closeToast:o,type:s="default",hide:d,className:n,style:l,controlledProgress:u,progress:C,rtl:p,isIn:E,theme:v}=a;const F=d||u&&C===0,S={...l,animationDuration:`${t}ms`,animationPlayState:c?"running":"paused"};u&&(S.transform=`scaleX(${C})`);const k=ae("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${v}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),I=J(n)?n({rtl:p,type:s,defaultClassName:k}):ae(k,n),P={[u&&C>=1?"onTransitionEnd":"onAnimationEnd"]:u&&C<1?null:()=>{E&&o()}};return O.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":F},O.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${v} Toastify__progress-bar--${s}`}),O.createElement("div",{role:"progressbar","aria-hidden":F?"true":"false","aria-label":"notification timer",className:I,style:S,...P}))}let Ht=1;const Ve=()=>""+Ht++;function Vt(a){return a&&(se(a.toastId)||re(a.toastId))?a.toastId:Ve()}function ie(a,t){return He(a,t),t.toastId}function he(a,t){return{...t,type:t&&t.type||a,toastId:Vt(t)}}function oe(a){return(t,c)=>ie(t,he(a,c))}function R(a,t){return ie(a,he("default",t))}R.loading=(a,t)=>ie(a,he("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),R.promise=function(a,t,c){let o,{pending:s,error:d,success:n}=t;s&&(o=se(s)?R.loading(s,c):R.loading(s.render,{...c,...s}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(p,E,v)=>{if(E==null)return void R.dismiss(o);const F={type:p,...l,...c,data:v},S=se(E)?{render:E}:E;return o?R.update(o,{...F,...S}):R(S.render,{...F,...S}),v},C=J(a)?a():a;return C.then(p=>u("success",n,p)).catch(p=>u("error",d,p)),C},R.success=oe("success"),R.info=oe("info"),R.error=oe("error"),R.warning=oe("warning"),R.warn=R.warning,R.dark=(a,t)=>ie(a,he("default",{theme:"dark",...t})),R.dismiss=function(a){(function(t){var c;if(ze()){if(t==null||se(c=t)||re(c))V.forEach(o=>{o.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){const o=V.get(t.containerId);o?o.removeToast(t.id):V.forEach(s=>{s.removeToast(t.id)})}}else le=le.filter(o=>t!=null&&o.options.toastId!==t)})(a)},R.clearWaitingQueue=function(a){a===void 0&&(a={}),V.forEach(t=>{!t.props.limit||a.containerId&&t.id!==a.containerId||t.clearQueue()})},R.isActive=Te,R.update=function(a,t){t===void 0&&(t={});const c=((o,s)=>{var d;let{containerId:n}=s;return(d=V.get(n||1))==null?void 0:d.toasts.get(o)})(a,t);if(c){const{props:o,content:s}=c,d={delay:100,...o,...t,toastId:t.toastId||a,updateId:Ve()};d.toastId!==a&&(d.staleId=a);const n=d.render||s;delete d.render,ie(n,d)}},R.done=a=>{R.update(a,{progress:1})},R.onChange=function(a){return be.add(a),()=>{be.delete(a)}},R.play=a=>Se(!0,a),R.pause=a=>Se(!1,a);const Wt=typeof window<"u"?j.useLayoutEffect:j.useEffect,ce=a=>{let{theme:t,type:c,isLoading:o,...s}=a;return O.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${c})`,...s})},je={info:function(a){return O.createElement(ce,{...a},O.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(a){return O.createElement(ce,{...a},O.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(a){return O.createElement(ce,{...a},O.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(a){return O.createElement(ce,{...a},O.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return O.createElement("div",{className:"Toastify__spinner"})}},qt=a=>{const{isRunning:t,preventExitTransition:c,toastRef:o,eventHandlers:s,playToast:d}=zt(a),{closeButton:n,children:l,autoClose:u,onClick:C,type:p,hideProgressBar:E,closeToast:v,transition:F,position:S,className:k,style:I,bodyClassName:P,bodyStyle:r,progressClassName:i,progressStyle:m,updateId:w,role:g,progress:x,rtl:f,toastId:h,deleteToast:L,isIn:U,isLoading:B,closeOnClick:b,theme:D}=a,$=ae("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":f},{"Toastify__toast--close-on-click":b}),z=J(k)?k({rtl:f,position:S,type:p,defaultClassName:$}):ae($,k),H=function(y){let{theme:N,type:A,isLoading:_,icon:T}=y,q=null;const te={theme:N,type:A};return T===!1||(J(T)?q=T({...te,isLoading:_}):j.isValidElement(T)?q=j.cloneElement(T,te):_?q=je.spinner():(Z=>Z in je)(A)&&(q=je[A](te))),q}(a),Y=!!x||!u,X={closeToast:v,type:p,theme:D};let M=null;return n===!1||(M=J(n)?n(X):j.isValidElement(n)?j.cloneElement(n,X):function(y){let{closeToast:N,theme:A,ariaLabel:_="close"}=y;return O.createElement("button",{className:`Toastify__close-button Toastify__close-button--${A}`,type:"button",onClick:T=>{T.stopPropagation(),N(T)},"aria-label":_},O.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},O.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(X)),O.createElement(F,{isIn:U,done:L,position:S,preventExitTransition:c,nodeRef:o,playToast:d},O.createElement("div",{id:h,onClick:C,"data-in":U,className:z,...s,style:I,ref:o},O.createElement("div",{...U&&{role:g},className:J(P)?P({type:p}):ae("Toastify__toast-body",P),style:r},H!=null&&O.createElement("div",{className:ae("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!B})},H),O.createElement("div",null,l)),M,O.createElement(Tt,{...w&&!Y?{key:`pb-${w}`}:{},rtl:f,theme:D,delay:u,isRunning:t,isIn:U,closeToast:v,hide:E,type:p,style:m,className:i,controlledProgress:Y,progress:x||0})))},ge=function(a,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${a}-enter`,exit:`Toastify--animate Toastify__${a}-exit`,appendPosition:t}},Gt=xe(ge("bounce",!0)),Yt=xe(ge("slide",!0));xe(ge("zoom"));xe(ge("flip"));const Xt={position:"top-right",transition:Gt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Jt(a){let t={...Xt,...a};const c=a.stacked,[o,s]=j.useState(!0),d=j.useRef(null),{getToastToRender:n,isToastActive:l,count:u}=_t(t),{className:C,style:p,rtl:E,containerId:v}=t;function F(k){const I=ae("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":E});return J(C)?C({position:k,rtl:E,defaultClassName:I}):ae(I,de(C))}function S(){c&&(s(!0),R.play())}return Wt(()=>{if(c){var k;const I=d.current.querySelectorAll('[data-in="true"]'),P=12,r=(k=t.position)==null?void 0:k.includes("top");let i=0,m=0;Array.from(I).reverse().forEach((w,g)=>{const x=w;x.classList.add("Toastify__toast--stacked"),g>0&&(x.dataset.collapsed=`${o}`),x.dataset.pos||(x.dataset.pos=r?"top":"bot");const f=i*(o?.2:1)+(o?0:P*g);x.style.setProperty("--y",`${r?f:-1*f}px`),x.style.setProperty("--g",`${P}`),x.style.setProperty("--s",""+(1-(o?m:0))),i+=x.offsetHeight,m+=.025})}},[o,u,c]),O.createElement("div",{ref:d,className:"Toastify",id:v,onMouseEnter:()=>{c&&(s(!1),R.pause())},onMouseLeave:S},n((k,I)=>{const P=I.length?{...p}:{...p,pointerEvents:"none"};return O.createElement("div",{className:F(k),style:P,key:`container-${k}`},I.map(r=>{let{content:i,props:m}=r;return O.createElement(qt,{...m,stacked:c,collapseAll:S,isIn:l(m.toastId,m.containerId),style:m.style,key:`toast-${m.key}`},i)}))}))}const Qt=({totalStars:a,onChange:t,value:c})=>{const o=s=>{t(s)};return e.jsx("div",{className:"flex items-center",children:[...Array(a)].map((s,d)=>{const n=d+1;return e.jsx("span",{onClick:()=>o(n),className:"cursor-pointer",children:n<=(c||0)?e.jsx(G,{icon:ke,className:"text-yellow-500 text-3xl"}):e.jsx(G,{icon:Et,className:"text-gray-400 text-3xl"})},d)})})},Kt=({onClose:a,onConfirm:t,unitCode:c,setShowRentCheckPopup:o})=>{const[s,d]=j.useState(""),[n,l]=j.useState(""),[u,C]=j.useState(0),[p,E]=j.useState(!1),[v,F]=j.useState(""),[S,k]=j.useState(0),[I,P]=j.useState(!1),r=b=>{C(b)},i=async()=>{const b=s.replace(/^\+966/,"0");if(s.trim()!=="")try{const D=await Ue(b,c);E(D.data.contractExisting),F(D.data.contractLastDate),k(D.data.totalDaysDifference),t(s);const $=D.data.contractExisting?"تم التحقق بنجاح":"لم تقم بتأجير الوحدة";R[D.data.contractExisting?"success":"error"]($)}catch(D){console.error("Error checking if user rented the unit:",D),R.error("فشل التحقق")}},m=async()=>{if(n.trim()!=="")try{const b=await Ke.post(`${Ze}/CreateAreaUnitComment`,{areaUnitCode:c,areaUnitCommentText:n,areaUnitRate:u});console.log("Comment created successfully:",b.data),l(""),C(0),o(!1)}catch(b){console.error("Error creating comment:",b)}},w=b=>{try{const D=new Dt().input(b||""),$=St(D,"SA");return $?{parsed:$.isValid(),countryCode:$.countryCallingCode,number:$.formatNational().replace(/\s/g,"")}:{parsed:!1}}catch(D){return console.error("Error validating phone number:",D),{parsed:!1}}},g=new Date(+v),x=g.getDate(),f=g.getMonth()+1,h=g.getFullYear(),L=g.getHours(),U=g.getMinutes(),B=`تم اخر حجز بتاريخ ${x}/${f}/${h} الساعة ${L}:${U}`;return e.jsx("div",{className:"fixed top-0 left-0 w-full h-full flex justify-center items-center bg-gray-900 bg-opacity-50 z-10 ",children:e.jsxs("div",{className:"bg-[--main-dark] w-full max-w-[80%] lg:w-auto h-auto p-10 rounded-lg",children:[e.jsx("h2",{className:"text-3xl mb-4 text-white font-bold",children:"ادخل رقم الهاتف"}),e.jsxs("div",{className:"ratingForm ",children:[e.jsx("div",{className:"w-full mb-4 ",children:e.jsx(wt,{value:s,onChange:b=>{typeof b=="string"&&(d(b),P(w(b).parsed))},onBlur:()=>{P(w(s).parsed)},defaultCountry:"SA",className:`cus-foucs border rounded-[8px] rtl:flex-row-reverse text-black text-2xl w-full ${I?"valid":""}`})}),p&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col my-2",children:[e.jsx("div",{className:"text-white text-2xl mx-2 my-2",children:B}),e.jsxs("div",{className:"text-white text-2xl mx-2 my-2",children:["اخر حجز كان منذ ",Math.round(-1*S)," ايام"]})]}),e.jsx("h1",{className:"my-3 text-white",children:"اضافة تقييم"}),e.jsx(Qt,{totalStars:5,onChange:r,value:u}),e.jsx("div",{children:e.jsxs("div",{className:"flex flex-col mb-5",children:[e.jsx("label",{htmlFor:"comment",className:"mb-2 text-[--main-dark]",children:"تعليق"}),e.jsx("textarea",{name:"comment",id:"comment",className:"text-black w-full h-32 mb-4 text-2xl",value:n,onChange:b=>l(b.target.value)}),e.jsx(ue,{className:"h-16 text-2xl font-bold",onClick:m,children:"ارسال"})]})})]}),e.jsxs("div",{className:"ratingButtonBox",children:[e.jsx("div",{className:"",children:e.jsx(ue,{className:" ",onClick:i,disabled:!I,children:"تحقق"})}),e.jsx("div",{className:"",children:e.jsx(Oe,{className:"",onClick:a,children:"الغاء"})})]})]})]})})},We=()=>{var l;const[a]=W(),{unitDetails:t}=K(),[c,o]=j.useState(!1),s=((l=t==null?void 0:t.areaUnitComment)==null?void 0:l.filter(u=>u.areaUnitStatus>0||!0))??[],d=()=>{o(!1)},n=async u=>{try{const C=(t==null?void 0:t.areaUnitCode)||"";return(await Ue(u,C)).data.length>0}catch(C){return console.error("Error checking if user rented the unit:",C),!1}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"mb-8 text-[2rem] font-[600]",children:a("unitDetail.unitReviews.guestReviews")}),e.jsx(ue,{className:"h-12",onClick:()=>o(!0),children:"اضافة تعليق"})]}),s.length===0?e.jsx("h2",{className:"text-[1.5rem] italic text-[var(--primary-color)]",children:a("unitDetail.unitReviews.noReviewsYet")}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:s.map((u,C)=>e.jsx(Rt,{review:u},C))}),c&&e.jsx(Kt,{onClose:d,onConfirm:n,unitCode:(t==null?void 0:t.areaUnitCode)||"",setShowRentCheckPopup:o})]})},qe=()=>{const{unitDetails:a}=K(),t=a!=null&&a.areaUnitLocation.includes(", ")&&a.areaUnitLocation.split(", ").length===2?a.areaUnitLocation.split(", ").map(c=>+c):[23.8725553,34.4324585];return e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"size-[40rem] border",children:e.jsxs(Ut,{style:{height:"100%"},center:t,zoom:16,scrollWheelZoom:!1,zoomControl:!1,children:[e.jsx(It,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),e.jsx(Lt,{position:t,icon:$t})]})})})},Ge=()=>{const{unitDetails:a}=K();return e.jsx("article",{children:e.jsxs("ol",{className:"list-inside list-decimal space-y-4 text-justify marker:font-[700] listInside",children:[e.jsx("li",{children:"الالتزام بتعاليم الدين الإسلامي وما يتناسب مع العادات والتقاليد المتبعة في المملكة العربية السعودية ."}),e.jsx("li",{children:"لا يحق للمستأجر استرجاع قيمة الايجار بعد استلام الوحدة نهائياً ."}),e.jsxs("li",{children:["رسوم العقد   (",a==null?void 0:a.sectionValue,")   ريال وهذه الرسوم غير مسترده بعد تسجيل العقد ."]}),e.jsx("li",{children:"الالتزام بعدم التجمع في المناطق المشتركة بالقطاع والذي يسبب الإزعاج بأي وسلية كانت ."}),e.jsx("li",{children:"يتحمل المستأجر المسؤولية كاملة عن كل ما يصدر من المرافقين و الزوار ويحق لإدارة القطاع اتخاذ الاجراءالمناسب دون الرجوع للمستأجر ."}),e.jsx("li",{children:'اخلاء مسؤولية شركة أملاك الشاطئ والمؤجر وإدارة القطاع اتجاه أي مسائلات من أي نوع في حالة الإصابة أو الوفاة " لا قدر الله " لأي شخص من المرافقين او الزوار .'}),e.jsx("li",{children:"اخلاء مسؤولية أملاك الشاطئ والمؤجر وإدارة القطاع عن أي حالة غرق في المسابح او البحر مع العلم أن السباحة في الأماكن المخصصة لذلك تحت مسؤوليتكم الشخصية والتعهد بوجود شخص بالغ عند سباحة الأطفال حفاظا على سلامتكم ."}),e.jsx("li",{children:"يجب دفع مبلغ التأمين لضمان حسن استخدام الوحدة والمرافق العامة ويسترجع مبلغ التأمين في حالة عدم وجود أي تلفيات أو غرامات أو مخالفات أو تأخير في موعد المغادرة ."}),e.jsx("li",{children:"الوحدة أسست لراحتكم واستمتاعكم بكل ما فيها ، لذا فإن كل محتويات الوحدة ستكون تحت مسؤوليتكم أثناء الإقامة وفي حالة وجود اضرار ناتجه عن سوء الاستخدام سوف تضاف لحسابكم الخاص وتخصم من مبلغ التأمين وفي حالة عدم كفاية مبلغ التأمين يلتزم المستأجر بدفع المبلغ كاملا ."}),e.jsx("li",{children:"الالتزام بعدم اخراج او تحريك الأثاث والمفروشات داخل أو خارج الوحدة ."}),e.jsx("li",{children:"يمنع استخدام مكبرات الصوت أو إزعاج الجيران بأي وسيلة وفي حال المخالفة يتحمل المستأجر تسديد مبلغ المخالفة 1000 ريال لصالح إدارة القطاع ."}),e.jsx("li",{children:"السكن مخصص للعلائلات فقط وفي حال المخالفة يتحمل المستأجر تسديد مبلغ المخالفة 1000 ريال لصالح إدارة القطاع ، وتمنع الزيارة للأفراد -الشباب ."}),e.jsx("li",{children:"الالتزام بالتقيد بموعد المغادرة الساعة 12 ظهرا وسيتم احتساب ليلة إضافية في حالة التأخر عن الموعد ."}),e.jsx("li",{children:"المؤجر والقطاع غير مسؤولين عن فقدان أو تلف المتعلقات الشخصية طوال فترة سريان اللإقامة ."}),e.jsx("li",{children:"شركة أملاك الشاطئ غير مسؤولة عن تصاريح الدخول للأفراد - الشباب - والسيارات ، حيث أن أرقام لوحات السيارات المذكورة بالعقد لدخول العائلات فقط ."}),e.jsx("li",{children:"عند ادخال الكود المرسل لجوال المستأجر فانه موافقة صريحة منه على بنود العقد كما انه يقر بصحة البيانات المدخلة وإلتزامه بتنفيذ كافة الشروط والاحكام ."}),e.jsx("li",{children:"يفوض طرفي العقد شركة أملاك الشاطئ للإحتفاظ بالبيانات وادخالها في المنصات الرسمية ."}),e.jsx("li",{children:"يمنع دخول الحيوانات ."})]})})};function Ee(){const[a]=W(),{unitDetails:t}=K(),{unitAvgRating:c,unitRatingsCount:o}=Ft();return e.jsxs(e.Fragment,{children:[c>0&&e.jsxs("div",{className:"rating flex items-center justify-center gap-2",children:[e.jsx(G,{color:"var(--main-color)",icon:ke}),e.jsxs("span",{children:[c," ( ",o," ",a("unitDetail.rating")," )"]})]}),e.jsxs("div",{className:"location flex items-center justify-center gap-2",children:[e.jsx(G,{icon:Re}),e.jsx("span",{children:t==null?void 0:t.areaSectionName})]}),e.jsxs("div",{className:"area flex items-center justify-center gap-2",children:[e.jsx(G,{icon:xt}),e.jsxs("span",{children:[a("unitDetail.area"),t==null?void 0:t.areaUnitArea,a("unitDetail.areaUnit")]})]}),e.jsxs("div",{className:"location flex items-center justify-center gap-2",children:[e.jsx("span",{className:"size-[1rem] fill-[var(--main-dark)] dark:fill-[var(--white-color)]",children:e.jsx(ft,{})}),e.jsx("span",{children:t==null?void 0:t.areaUnitCategoryName})]}),e.jsxs("div",{className:"location flex items-center justify-center gap-2",children:[e.jsx("span",{className:"size-[1rem] fill-[var(--main-dark)] dark:fill-[var(--white-color)]",children:e.jsx(ht,{})}),e.jsx("span",{children:t==null?void 0:t.areaUnitBeachName})]})]})}function Pe({hideLabels:a=!1}){const{unitId:t}=Ne(),[c,o]=W(),{theme:s}=Ie(),d=()=>R.success(c("unitDetail.linkCopied"),{position:o.language=="ar"?"bottom-left":"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0,theme:s,transition:Yt});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fav flex items-center justify-center gap-2 rounded-[1rem] p-[0.75rem] transition hover:bg-[#0000001A] dark:hover:bg-[#FFFFFF1A]",children:[e.jsx(Pt,{unitId:t}),!a&&e.jsx("span",{children:c("unitDetail.favorite")})]}),e.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(`${location.origin}/search-unit/${t}`),d()},className:"share flex items-center justify-center gap-2 rounded-[1rem] p-[0.75rem] transition hover:bg-[#0000001A] dark:hover:bg-[#FFFFFF1A]",children:[e.jsx(G,{icon:gt}),!a&&e.jsx("span",{className:"ms-[1rem]",children:c("unitDetail.shares")})]}),e.jsxs(et,{reloadDocument:!0,to:`/search-unit/show-map/${t}`,className:"share flex cursor-pointer items-center justify-center gap-2 rounded-[1rem] p-[0.75rem] transition hover:bg-[#0000001A] dark:hover:bg-[#FFFFFF1A]",children:[e.jsx(G,{icon:Re}),!a&&e.jsx("span",{className:"ms-[1rem]",children:c("unitDetail.location")})]})]})}function Zt({setShow:a}){const{t}=W(),{unitDetails:c}=K(),[o,s]=j.useState(0),d=j.useRef(null),n=c&&c.areaUnitPhotos?[c.areaUnitMainPhoto,...c.areaUnitPhotos.map(p=>p.unitPhotoUrl)]:[""],l=()=>{a(!1)},u=()=>{s(p=>{var E;return(E=d.current)==null||E.children[p+1].scrollIntoView(),p+1})},C=()=>{s(p=>{var E;return(E=d.current)==null||E.children[p-1].scrollIntoView(),p-1})};return e.jsxs("div",{className:"fixed left-0 top-0 z-[9999] flex h-full w-full flex-col items-center justify-center gap-8 bg-[rgba(0,0,0,0.8)]",children:[e.jsx(G,{className:"absolute start-10 top-9 cursor-pointer text-[2rem] text-[var(--primary-color)] hover:text-[var(--white-color)]",icon:jt,onClick:l}),e.jsx("h1",{className:"text-center text-[3rem] font-[700] text-[var(--white-color)]",children:t("unitDetail.slideShow.title")}),e.jsxs("div",{className:"flex flex-col items-center justify-between gap-4",children:[e.jsxs("div",{dir:"ltr",className:"flex items-center justify-between gap-4",children:[e.jsx("button",{className:"cursor-pointer text-[2rem] text-[var(--primary-color)] enabled:hover:text-[var(--white-color)] disabled:cursor-not-allowed disabled:text-[#1B1F1F]",disabled:n.length<1||o===0,onClick:C,children:e.jsx(G,{icon:vt})}),e.jsx("div",{className:"size-[40rem]",children:e.jsx("img",{className:"h-[100%] w-[100%] rounded-[1rem] object-cover",src:n[o],alt:`${o}`,onError:({currentTarget:p})=>{p.onerror=null,p.src="/images/placeholder-image.jpg"}})}),e.jsx("button",{className:"cursor-pointer text-[2rem] text-[var(--primary-color)] enabled:hover:text-[var(--white-color)] disabled:cursor-not-allowed disabled:text-[#1B1F1F]",disabled:n.length<1||o===n.length-1,onClick:u,children:e.jsx(G,{icon:yt})})]}),e.jsx("div",{dir:"ltr",className:"images-carousel flex w-[50%] items-center justify-between gap-3 overflow-x-scroll",ref:d,children:n.map((p,E)=>e.jsx("img",{className:`size-[5rem] rounded-[0.5rem] mb-4 object-cover cursor-pointer border-2  ${o===E?"border-[white]":"border-[#00000000]"}`,src:p,alt:p,onClick:()=>s(E),onError:({currentTarget:v})=>{v.onerror=null,v.src="/images/placeholder-image.jpg"}},E))})]})]})}const ea=()=>{const{t:a}=W(),{unitDetails:t}=K(),[c,o]=j.useState(!1),s=t!=null&&t.areaUnitPhotos?[t==null?void 0:t.areaUnitMainPhoto,...((t==null?void 0:t.areaUnitPhotos)??[""]).map(d=>d.unitPhotoUrl)]:[""];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"grid-container",children:[e.jsx("div",{className:"item overflow-hidden rounded-s-[12px]",children:e.jsx("img",{className:"h-full w-full",src:t==null?void 0:t.areaUnitMainPhoto,alt:"Unit Main Photo"})}),s.slice(0,4).map((d,n)=>e.jsx("div",{className:`item overflow-hidden ${n===1&&"rounded-se-[12px]"} ${n===3&&"item rounded-ee-[12px]"}`,children:e.jsx("img",{className:"h-full w-full",src:d,alt:`Image ${n+1}`,onError:({currentTarget:l})=>{l.onerror=null,l.src="/images/placeholder-image.jpg"}})},n))]}),e.jsx("div",{className:"absolute bottom-5 start-5 z-20 flex gap-5",children:e.jsxs("button",{className:"flex cursor-pointer items-center gap-x-3 rounded-lg border bg-[rgba(0,0,0,0.4)] p-2 text-[var(--white-color)] transition-all hover:bg-[var(--main-color)] dark:hover:bg-[var(--main-dark)]",onClick:()=>o(d=>!d),children:[e.jsx(G,{icon:bt}),a("unitDetail.slideShow.buttonLabel")]})})]}),c&&e.jsx(Zt,{setShow:o})]})},Ye=({title:a,children:t})=>{const[c,o]=j.useState(!1),{t:s}=W(),d=()=>{o(!c)},{theme:n}=Ie();return e.jsxs("div",{className:"rounded-[12px] border p-4 transition-all duration-300 ease-in-out",children:[e.jsxs("div",{className:"flex cursor-pointer items-center justify-between gap-5",onClick:d,children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("img",{className:"size-[5rem]",src:n==="dark"?"/images/logo.png":"/images/logo-dark.png",alt:"Logo"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-[1rem] text-lg font-semibold",children:a}),e.jsx("p",{className:"text-[1rem]",children:s("unitDetail.subBeach")})]})]}),e.jsx("div",{className:"text-gray-600 dark:text-[var(--white-color)]",children:e.jsx(G,{icon:c?Ct:Nt})})]}),c&&e.jsx("div",{className:"mt-2",children:t})]})},ta=()=>{const{t:a}=W(),{unitDetails:t}=K(),[c,o]=j.useState(0),s=[{title:a("unitDetail.specification.title"),component:e.jsx(Me,{})},{title:a("unitDetail.rate"),component:e.jsx(We,{})},{title:a("unitDetail.mapsite"),component:e.jsx(qe,{})},{title:a("unitDetail.conditionroom"),component:e.jsx(Ge,{})}],d=n=>o(n);return e.jsxs("div",{className:"flex flex-[2] flex-col justify-start gap-[2rem]",children:[e.jsx(Ye,{title:a("unitDetail.beach"),children:e.jsx("p",{children:a("unitDetail.openSub")})}),t&&t.areaUnitDescription&&e.jsxs("section",{children:[e.jsx("h1",{className:"mb-[1rem] text-[2.5rem] font-[500]",children:a("unitDetail.description")}),e.jsx("p",{className:"text-justify text-[1rem]",children:t.areaUnitDescription})]}),e.jsx("nav",{className:"detials-nav w-full rounded-full border border-[#E3E3E3] px-[0.75ch] py-[0.5ch]",children:e.jsx("ul",{className:"flex items-center justify-between",children:s.map((n,l)=>e.jsx("li",{children:e.jsx("button",{className:`dark:text-[var(--white-color)] w-full ${c===l?"active":""}`,onClick:()=>d(l),children:n.title})},l))})}),e.jsx("div",{children:s[c].component})]})};function Xe({offer:a,className:t="",hideDetails:c=!1}){const{t:o}=W();return e.jsxs("section",{className:`flex flex-wrap justify-between items-center gap-4 text-[var(--main-dark)] dark:text-[var(--main-color)] font-[700] mt-5 ${t}`,children:[e.jsxs("div",{className:"flex-1 whitespace-nowrap",children:[e.jsxs("h2",{className:"mb-4 flex gap-4 text-[1.75rem]",children:[e.jsx("div",{className:"rounded-full bg-[var(--main-color)] px-[1ch] text-[var(--main-dark)]",children:e.jsx(G,{icon:kt})}),e.jsx("span",{className:"flex-1",children:a.unitOfferDateText})]}),e.jsx("h3",{className:"text-[1.25rem] text-[var(--main-dark)] dark:text-[var(--main-color)]",children:a.offerTypeText})]}),!c&&e.jsxs("p",{className:"text-[.75rem] font-[600] text-[var(--primary-color)]",children:[o("unitDetail.left-aside.offerFrom")," ",e.jsx("span",{className:"text-[1rem] font-[800]",children:new Date(a.unitOfferDateStart).toLocaleDateString()})," ",o("unitDetail.left-aside.offerTo")," ",e.jsx("span",{className:"text-[1rem] font-[800]",children:new Date(a.unitOfferDateEnd).toLocaleDateString()})," ",o("unitDetail.left-aside.offerValidDays")," ",e.jsx("br",{}),e.jsx("span",{className:"text-[1rem] font-[800]",children:a.offerDays.join(", ")})]})]})}const Je=()=>{const[a,t]=W(),{startDate:{value:c},endDate:{value:o}}=Ce(),{contractTotal:s,loadingContractTotal:d}=me(c,o),n=(s==null?void 0:s.totalNights)||0,l=(s==null?void 0:s.nights)||0,u=(s==null?void 0:s.weekEndNights)||0,C=pe(l,t.language),p=pe(u,t.language),E=[{title:(s==null?void 0:s.isPricing)!==0?`${(s==null?void 0:s.totalNights)||0} *  ${a("unitDetail.specialPrice")}`:`${C} * ${a("unitDetail.nightPrice")}`,amount:(s==null?void 0:s.isPricing)!==0?Number(s==null?void 0:s.totalPrice):Number(s==null?void 0:s.price),hidden:n<1},{title:`${p} * ${a("unitDetail.weekendNightPrice")}`,amount:Number(s==null?void 0:s.weekEndPrice),hidden:(s==null?void 0:s.isPricing)!==0},{title:a("unitDetail.left-aside.totalTax"),amount:(s==null?void 0:s.adminstrativeExpenses)??0},{title:a("unitDetail.left-aside.serviceFees"),amount:Number(s==null?void 0:s.fee)}];return e.jsx("div",{children:!d&&E.filter(v=>!v.hidden).map((v,F)=>{var S;return e.jsxs("div",{className:`flex justify-between items-center ${v.insuranceStyling&&"text-[var(--primary-color)] font-[700]"} ${v.discountStyling&&"text-[var(--main-color)] font-[700]"}`,children:[e.jsx("h6",{children:v.title}),e.jsxs("p",{children:[(S=v.amount)==null?void 0:S.toFixed(2)," ",a("unitDetail.left-aside.SR")]})]},F)})})};function Qe(){const[a]=W(),{unitDetails:t}=K();return e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"flex",children:[e.jsx("img",{src:"/images/WarningCircle.png",alt:"Warning Icon",className:"me-4 size-[20px]"}),e.jsxs("span",{children:[` ${a("unitDetail.left-aside.insurance")}  ${t==null?void 0:t.areaUnitInsurance}`," ",a("unitDetail.left-aside.insuranceLable")]})]}),e.jsxs("p",{className:"flex",children:[e.jsx("img",{src:"/images/WarningCircle.png",alt:"Warning Icon",className:"me-4 size-[20px]"}),e.jsx("span",{children:a("unitDetail.left-aside.disclaimer.1")})]}),e.jsxs("p",{className:"flex",children:[e.jsx("img",{src:"/images/WarningCircle.png",alt:"Warning Icon",className:"me-4 size-[20px]"}),e.jsx("span",{children:a("unitDetail.left-aside.disclaimer.2")})]})]})}const aa=()=>{const{unitId:a}=Ne(),[t]=W(),c=Le(),o=Ae(),{startDate:{value:s},endDate:{value:d}}=Ce(),{unitDetails:n}=K(),{contractTotal:l,loadingContractTotal:u}=me(s,d),C=s&&d&&d.getTime()-s.getTime()-1||0,p=24*60*60*1e3,E=j.useRef(0),v=Math.ceil(C/p),F=((n==null?void 0:n.bookedNights)||[]).map(g=>fe(new Date(g.unitDateStart),new Date(g.unitDateEnd)).slice(0,-1)).flat(),S=()=>{o($e({areaUnitContractID:0,areaUnitContractCode:"0",areaUnitContractNumber:"0",areaUnitContractDate:new Date(new Date().getTime()-new Date().getTimezoneOffset()*6e4).toJSON(),areaUnitContractDateTime:new Date(new Date().getTime()-new Date().getTimezoneOffset()*6e4).toJSON(),areaUnitContractState:0,areaUnitContractType:"0",areaUnitCode:a,areaUnitPrice:Number(n==null?void 0:n.areaUnitPrice),areaUnitServiceFee:Number(n==null?void 0:n.areaUnitServiceFee),areaUnitTaxValue:n==null?void 0:n.taxValue,areaUnitSectionPercentValue:n==null?void 0:n.sectionValue,areaUnitWebSitePercentValue:n==null?void 0:n.websiteValue,areaUnitTotalPrice:l==null?void 0:l.total,checkInDate:new Date((s||new Date).getTime()-(s||new Date).getTimezoneOffset()*6e4).toJSON(),checkOutDate:new Date((d||new Date).getTime()-(d||new Date).getTimezoneOffset()*6e4).toJSON(),nightsCount:v,nightPrice:Number(n==null?void 0:n.areaUnitPrice),totalPrice:l==null?void 0:l.total,contractInsurance:Number(n==null?void 0:n.areaUnitInsurance),waletStus:"0",createUserName:"",craeteUserDate:new Date().toISOString(),updateUserName:"",updateUserDate:new Date().toISOString()})),c("/booking-confirmation")};j.useEffect(()=>{const g=s||new Date,x=d||new Date;d||x.setDate(g.getDate()+1),E.current=fe(g,x).slice(1).filter(f=>Be(f)).length},[o,a,s,d]),j.useEffect(()=>(document.title=`${n==null?void 0:n.areaUnitName} | Amlak El Shatea`||"Amlak El Shatea",()=>{document.title="Amlak El Shatea"}),[n==null?void 0:n.areaUnitName]);const k=["السبت","الأحد","الإثنين","الثلاثاء","الأربعاء","الخميس","الجمعة"],[I,P]=j.useState([]),r=()=>{var L,U,B,b,D,$,z,H,Y;const g=l==null?void 0:l.pricing,x=n==null?void 0:n.areaUnitPrice,f=n==null?void 0:n.areaUnitWeekEndPrice,h=[];if(g){for(let X=0;X<(g==null?void 0:g.length);X++){const M=[String(x),String(x),String(x),String(x),String(x),String(f),String(f)],y=(L=g[X])==null?void 0:L.pricingDays;if(y){for(let N=0;N<(y==null?void 0:y.length);N++)switch((U=y[N])==null?void 0:U.unitPricingDayName){case"السبت":M[0]=(B=y[N])==null?void 0:B.unitPricingDayPrice;break;case"الأحد":M[1]=(b=y[N])==null?void 0:b.unitPricingDayPrice;break;case"الإثنين":M[2]=(D=y[N])==null?void 0:D.unitPricingDayPrice;break;case"الثلاثاء":M[3]=($=y[N])==null?void 0:$.unitPricingDayPrice;break;case"الأربعاء":M[4]=(z=y[N])==null?void 0:z.unitPricingDayPrice;break;case"الخميس":M[5]=(H=y[N])==null?void 0:H.unitPricingDayPrice;break;case"الجمعة":M[6]=(Y=y[N])==null?void 0:Y.unitPricingDayPrice;break}h.push(M)}}P(h)}},[i,m]=j.useState(!0),w=()=>{var x;let g=0;if(l!=null&&l.pricing){for(let f=0;f<((x=l==null?void 0:l.pricing)==null?void 0:x.length);f++)l.pricing[f].unitPricingDateDaysCount!==0&&(g+=l.pricing[f].unitPricingDateDaysCount);console.log(g),l.totalNights>=g?m(!0):m(!1)}};return j.useEffect(()=>{l!=null&&l.pricing&&r(),w()},[s,d,l==null?void 0:l.pricing]),console.log(l),e.jsxs("aside",{className:"aside-left mb-40 flex-[1]",children:[(l==null?void 0:l.offers)!==null?e.jsx("article",{className:"border-b border-[#E3E3E3] p-6",children:l==null?void 0:l.offers.map((g,x)=>e.jsx(Xe,{offer:g},x))}):e.jsx(e.Fragment,{}),e.jsxs("article",{className:"flex flex-col justify-between gap-[1rem] border-b border-[#E3E3E3] p-6 font-[700]",children:[e.jsxs("h2",{className:"text-[2rem] text-[var(--main-dark)] dark:text-[var(--main-color)]",children:[e.jsx("span",{className:"ms-[1rem] text-[1rem] font-[500] text-[#717171] ml-3 mr-3",children:t("unitDetail.normalNightPrice")}),n==null?void 0:n.areaUnitPrice,e.jsx("span",{className:"ms-[1rem] text-[1rem] font-[500] text-[#717171]",children:t("unitDetail.left-aside.night")})]}),(l==null?void 0:l.weekEndNights)!==0&&(l==null?void 0:l.isPricing)!==0?e.jsx(e.Fragment,{children:e.jsxs("h2",{className:"text-[2rem] text-[var(--main-dark)] dark:text-[var(--main-color)]",children:[e.jsx("span",{className:"ms-[1rem] text-[1rem] font-[500] text-[#717171] ml-3 mr-3 ",children:t("unitDetail.WeekendRate")}),n==null?void 0:n.areaUnitWeekEndPrice,e.jsx("span",{className:"ms-[1rem] text-[1rem] font-[500] text-[#717171]",children:t("unitDetail.left-aside.night")})]})}):e.jsx(e.Fragment,{})]}),e.jsx("div",{className:"date flex flex-col items-center gap-6 border-b border-[#E3E3E3] p-6",children:e.jsx(Fe,{disabledDates:F})}),(l==null?void 0:l.isPricing)!==0&&(l==null?void 0:l.isPricing)!==void 0&&v>0?e.jsx(e.Fragment,{children:I==null?void 0:I.map((g,x)=>{var f,h,L;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"border-b border-t border-[#E3E3E3] p-5",children:[e.jsx("h2",{className:"text-[2rem] text-[var(--main-dark)] dark:text-[var(--main-color)]",children:(f=l==null?void 0:l.pricing[x])==null?void 0:f.unitPricingDateName}),e.jsxs("div",{children:[e.jsxs("p",{className:"dateTitle",children:[t("booking_confirmation.EffectiveDate"),e.jsx("span",{className:"date",children:new Date((h=l==null?void 0:l.pricing[x])==null?void 0:h.unitPricingDateStart).toLocaleDateString()}),t("booking_confirmation.to"),e.jsx("span",{className:"date",children:new Date((L=l==null?void 0:l.pricing[x])==null?void 0:L.unitPricingDateEnd).toLocaleDateString()})]}),e.jsxs("p",{children:[t("unitDetail.left-aside.minDays"),l.pricing[x].unitPricingDateDaysCount,t("unitDetail.left-aside.inDate")]})]}),e.jsxs("table",{className:"tableTest",children:[e.jsxs("thead",{children:[e.jsx("th",{className:"text-[1.2rem] text-[var(--main-dark)] dark:text-[var(--main-color)]",children:t("unitDetail.day")}),k.map((U,B)=>e.jsx(e.Fragment,{children:e.jsx("th",{children:U},B)}))]}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{className:"text-[1.2rem] text-[var(--main-dark)] dark:text-[var(--main-color)]",children:t("unitDetail.price")}),g.map((U,B)=>e.jsx(e.Fragment,{children:e.jsx("td",{children:U},B)}))]})})]})]},x)})})}):"",e.jsxs("div",{className:"payed space-y-6 p-6",children:[e.jsxs("div",{className:"details-time flex items-center justify-evenly text-center",children:[e.jsxs("div",{children:[e.jsx("h5",{children:t("unitDetail.left-aside.arrivaltime")}),e.jsx("p",{children:n==null?void 0:n.areaUnitChekInTime})]}),e.jsxs("div",{children:[e.jsx("h5",{children:t("unitDetail.left-aside.departuretime")}),e.jsx("p",{children:n==null?void 0:n.areaUnitChekOutTime})]})]}),e.jsx("div",{children:e.jsx(Oe,{onClick:S,className:"choose",disabled:u||!(s&&d)||C<1||!i,children:t("unitDetail.left-aside.choose")})}),v>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"count flex flex-col  p-[1.5rem]",children:[e.jsx(Je,{}),(l==null?void 0:l.offers)!==null?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex justify-between items-center text-[var(--main-color)] font-[700]",children:[e.jsx("h6",{children:t("unitDetail.left-aside.totalOffer")}),e.jsxs("p",{children:[l==null?void 0:l.totalOffer.toFixed(2)," ",t("unitDetail.left-aside.SR")]})]})}):""]}),e.jsxs("div",{className:"total flex items-center justify-between border-t border-[#E3E3E3] p-[1.5rem]",children:[e.jsx("h6",{children:t("unitDetail.left-aside.alltotal")}),e.jsxs("p",{children:[u&&e.jsx("span",{className:"inline-block",children:e.jsx(ve,{})}),!u&&(l==null?void 0:l.total)," ",t("unitDetail.left-aside.SR")]})]})]})]}),e.jsx("article",{className:"space-y-4 border-t border-[#E3E3E3] p-8",children:e.jsx(Qe,{})})]})},wa=()=>{var X,M;const[a,t]=W(),{unitId:c}=Ne(),o=Le(),{unitDetails:s,loadingUnitDetails:d}=K(),{startDate:{value:n},endDate:{value:l}}=Ce(),{contractTotal:u,loadingContractTotal:C}=me(n,l),p=Ae(),E=j.useRef(null),[v,F]=j.useState(0),S=[{title:a("unitDetail.specification.title"),component:e.jsx(Me,{})},{title:a("unitDetail.rate"),component:e.jsx(We,{})},{title:a("unitDetail.mapsite"),component:e.jsx(qe,{})},{title:a("unitDetail.conditionroom"),component:e.jsx(Ge,{})}],k=t.language=="ar"?"ar":"en-US",I=(n||new Date).toLocaleString(k,{month:"short",day:"numeric",year:"numeric"}),P=(l||new Date).toLocaleString(k,{month:"short",day:"numeric",year:"numeric"}),r=s!=null&&s.areaUnitPhotos?[s==null?void 0:s.areaUnitMainPhoto,...((s==null?void 0:s.areaUnitPhotos)??[]).map(y=>y.unitPhotoUrl)]:[""],{contractTotal:i}=me(n,l),m=n&&l&&l.getTime()-n.getTime()-1||0,w=24*60*60*1e3,g=j.useRef(0),x=Math.ceil(m/w),f=pe(x,t.language);console.log();const h=((s==null?void 0:s.bookedNights)||[]).map(y=>fe(new Date(y.unitDateStart),new Date(y.unitDateEnd)).slice(1,-1)).flat(),L=()=>{p($e({areaUnitContractID:0,areaUnitContractCode:"0",areaUnitContractNumber:"0",areaUnitContractDate:new Date().toISOString(),areaUnitContractDateTime:new Date().toISOString(),areaUnitContractState:0,areaUnitContractType:"0",areaUnitCode:c,areaUnitPrice:Number(s==null?void 0:s.areaUnitPrice),areaUnitServiceFee:Number(s==null?void 0:s.areaUnitServiceFee),areaUnitTaxValue:s==null?void 0:s.taxValue,areaUnitSectionPercentValue:s==null?void 0:s.sectionValue,areaUnitWebSitePercentValue:s==null?void 0:s.websiteValue,areaUnitTotalPrice:u==null?void 0:u.total,checkInDate:n==null?void 0:n.toISOString(),checkOutDate:l==null?void 0:l.toISOString(),nightsCount:x,nightPrice:Number(s==null?void 0:s.areaUnitPrice),totalPrice:u==null?void 0:u.total,contractInsurance:Number(s==null?void 0:s.areaUnitInsurance),waletStus:"0",createUserName:"",craeteUserDate:new Date().toISOString(),updateUserName:"",updateUserDate:new Date().toISOString()})),o("/booking-confirmation")},U=y=>F(y);j.useEffect(()=>{const y=n||new Date,N=l||new Date;g.current=fe(y,N).slice(1).filter(A=>Be(A)).length},[p,c,n,l]);const B=["السبت","الأحد","الإثنين","الثلاثاء","الأربعاء","الخميس","الجمعة"],[b,D]=j.useState([]),$=()=>{var T,q;const y=i==null?void 0:i.pricing,N=s==null?void 0:s.areaUnitPrice,A=s==null?void 0:s.areaUnitWeekEndPrice,_=[];if(y){for(let te=0;te<(y==null?void 0:y.length);te++){const Z=[String(N),String(N),String(N),String(N),String(N),String(A),String(A)],Q=(T=y[te])==null?void 0:T.pricingDays;if(Q){for(let ee=0;ee<(Q==null?void 0:Q.length);ee++)switch((q=Q[ee])==null?void 0:q.unitPricingDayName){case"السبت":Z[0]=Q[ee].unitPricingDayPrice;break;case"الأحد":Z[1]=Q[ee].unitPricingDayPrice;break;case"الإثنين":Z[2]=Q[ee].unitPricingDayPrice;break;case"الثلاثاء":Z[3]=Q[ee].unitPricingDayPrice;break;case"الأربعاء":Z[4]=Q[ee].unitPricingDayPrice;break;case"الخميس":Z[5]=Q[ee].unitPricingDayPrice;break;case"الجمعة":Z[6]=Q[ee].unitPricingDayPrice;break}_.push(Z)}}D(_)}},[z,H]=j.useState(!0),Y=()=>{var N;let y=0;if(i!=null&&i.pricing){for(let A=0;A<((N=i==null?void 0:i.pricing)==null?void 0:N.length);A++)i.pricing[A].unitPricingDateDaysCount!==0&&(y+=i.pricing[A].unitPricingDateDaysCount);console.log(y),i.totalNights>=y?H(!0):H(!1)}};return j.useEffect(()=>{$(),Y()},[n,l,i==null?void 0:i.pricing]),e.jsxs(e.Fragment,{children:[e.jsx(at,{notHomeNav:!0}),d&&e.jsx(tt,{}),!d&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"hide-nav dark:bg-[#18131ce8] dark:text-[var(--white-color)]",children:[e.jsxs("div",{className:"container my-[2rem]",children:[e.jsxs("section",{children:[e.jsx("h1",{className:"mb-2 text-[3rem] font-[700] text-[var(--main-dark)] dark:text-[var(--white-color)]",children:s==null?void 0:s.areaUnitName}),e.jsxs("p",{className:"mb-5 text-[1.5rem] text-[var(--primary-color)]",children:[a("unitDetail.subTitle")," ( ",s==null?void 0:s.areaUnitNumber," )"]}),e.jsxs("div",{className:"main-details flex flex-wrap items-center justify-between gap-3",children:[e.jsx("div",{className:"right-details flex items-center justify-center gap-5",children:e.jsx(Ee,{})}),e.jsx("div",{className:"left-details flex items-center justify-center gap-5",children:e.jsx(Pe,{})})]})]}),e.jsx("section",{className:"mb-[3rem]",children:e.jsx(ea,{})}),e.jsxs("section",{className:"flex w-full justify-between gap-5",children:[e.jsx(ta,{}),e.jsx(aa,{})]})]}),e.jsx(ot,{})]}),e.jsxs("div",{className:"hide-nav-mob dark:bg-[#18131ce8] dark:text-[var(--white-color)]",children:[e.jsxs("div",{className:"slide-details relative",children:[e.jsx(it,{pagination:!0,modules:[At],className:"mySwiper h-[500px]",children:r.map((y,N)=>e.jsx(rt,{children:e.jsx("img",{className:"h-full w-full",src:y,alt:`Image No. ${N+1}`,onError:({currentTarget:A})=>{A.onerror=null,A.src="/images/placeholder-image.jpg"}})},N))}),e.jsx("div",{className:"absolute end-8 top-5 z-10 flex items-center gap-5 text-[2rem]",children:e.jsx(Pe,{hideLabels:!0})})]}),e.jsxs("div",{className:"details-container",children:[e.jsx("nav",{className:"detials-nav absolute z-10 w-full translate-y-[-50%] rounded-full border border-[#E3E3E3] bg-[var(--white-color)] px-[0.75ch] py-[0.5ch] text-[1rem] dark:bg-[#18131ce8]",children:e.jsx("ul",{className:"flex items-center justify-between",children:S.map((y,N)=>e.jsx("li",{children:e.jsx("button",{className:`dark:text-[var(--white-color)] w-full ${v===N?"active":""}`,onClick:()=>U(N),children:y.title})},N))})}),e.jsx("div",{className:"px-5 pt-[50px]",children:e.jsx(Ye,{title:a("unitDetail.beach"),children:e.jsx("p",{children:a("unitDetail.openSub")})})}),(s==null?void 0:s.areaUnitDescription)&&e.jsxs("section",{className:"my-1rem p-5",children:[e.jsx("h1",{className:"mb-[1rem] text-[2.5rem] font-[500]",children:a("unitDetail.description")}),e.jsx("p",{className:"text-justify text-[1rem]",children:s==null?void 0:s.areaUnitDescription})]}),e.jsxs("section",{className:"p-5",children:[e.jsxs("h1",{className:"mb-[1rem] inline text-[2.5rem] font-[700] text-[var(--main-dark)] dark:text-[var(--white-color)]",children:[s==null?void 0:s.areaUnitName," ",e.jsxs("span",{className:"text-[2rem] font-[500] text-[#4D4D4D]",children:["(",s==null?void 0:s.areaUnitNumber,")"]})]}),e.jsx("div",{className:"right-details flex flex-col items-start gap-5",children:e.jsx(Ee,{})})]}),e.jsx("div",{className:"listInsideContainer",children:S[v].component})]}),e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"bg-[var(--white2-color)] dark:bg-[#18131ce8]",children:[e.jsxs("div",{ref:E,className:"relative flex flex-col justify-center p-4",children:[e.jsxs("h1",{className:"mb-4 text-[1rem] md:text-[1.5rem]",children:[a("unitDetail.Book")," ( ",f," )"]}),e.jsx("div",{className:"mx-auto mb-5",children:e.jsx(Fe,{disabledDates:h})}),x>0&&(u==null?void 0:u.isPricing)!==0?e.jsx(e.Fragment,{children:b.map((y,N)=>{var A,_,T;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"border-b border-t border-[#E3E3E3] p-5",children:[e.jsx("h2",{className:"text-[2rem] text-[var(--main-dark)] dark:text-[var(--main-color)]",children:(A=i==null?void 0:i.pricing[N])==null?void 0:A.unitPricingDateName}),e.jsxs("div",{children:[e.jsxs("p",{className:"dateTitle",children:[a("booking_confirmation.EffectiveDate"),e.jsx("span",{className:"date",children:new Date(`${(_=i==null?void 0:i.pricing[N])==null?void 0:_.unitPricingDateStart}`).toLocaleDateString()}),a("booking_confirmation.to"),e.jsx("span",{className:"date",children:new Date(`${(T=i==null?void 0:i.pricing[N])==null?void 0:T.unitPricingDateEnd}`).toLocaleDateString()})]}),e.jsxs("p",{children:[a("unitDetail.left-aside.minDays"),i==null?void 0:i.pricing[N].unitPricingDateDaysCount,a("unitDetail.left-aside.inDate")]})]}),e.jsxs("table",{className:"tableInPhome",children:[e.jsxs("thead",{children:[e.jsx("th",{className:"text-[1.2rem] text-[var(--main-dark)] dark:text-[var(--main-color)]",children:a("unitDetail.day")}),B.map(q=>e.jsx(e.Fragment,{children:e.jsx("th",{children:q})}))]}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{className:"text-[1.2rem] text-[var(--main-dark)] dark:text-[var(--main-color)]",children:a("unitDetail.price")}),y.map(q=>e.jsx(e.Fragment,{children:e.jsx("td",{children:q})}))]})})]})]})})})}):""]}),e.jsx("div",{className:"px-[20px] py-[10px]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"arrival",children:[e.jsx("h5",{children:a("unitDetail.left-aside.arrivalDate")}),e.jsx("p",{children:I})]}),e.jsxs("div",{className:"departure",children:[e.jsx("h5",{children:a("unitDetail.left-aside.departureDate")}),e.jsx("p",{children:P})]})]})}),e.jsxs("div",{className:"flex items-center justify-between px-[20px] py-[10px]",children:[e.jsxs("div",{children:[e.jsx("h5",{children:a("unitDetail.left-aside.arrivaltime")}),e.jsx("p",{children:s==null?void 0:s.areaUnitChekInTime})]}),e.jsxs("div",{children:[e.jsx("h5",{children:a("unitDetail.left-aside.departuretime")}),e.jsx("p",{children:s==null?void 0:s.areaUnitChekOutTime})]})]}),e.jsx("div",{className:"flex flex-col gap-4 p-8",children:e.jsx(Qe,{})})]})}),x>0&&e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"bg-[var(--white2-color)] dark:bg-[#18131ce8]",children:[e.jsxs("div",{className:"count flex flex-col  p-[1.5rem]",children:[e.jsx(Je,{}),(i==null?void 0:i.offers)!==null?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex justify-between items-center text-[var(--main-color)] font-[700]",children:[e.jsx("h6",{children:a("unitDetail.left-aside.totalOffer")}),e.jsxs("p",{children:[i==null?void 0:i.totalOffer.toFixed(2)," ",a("unitDetail.left-aside.SR")]})]})}):""]}),e.jsxs("div",{className:"total flex items-center justify-between border-t border-[#E3E3E3] p-[1.5rem]",children:[e.jsx("h6",{children:a("unitDetail.left-aside.alltotal")}),e.jsxs("p",{children:[C&&e.jsx("span",{className:"inline-block",children:e.jsx(ve,{})}),!C&&((u==null?void 0:u.total)||(s==null?void 0:s.areaUnitPrice))," ",a("unitDetail.left-aside.SR")]})]})]})}),e.jsx("div",{className:"mt-[300px]"}),e.jsxs("div",{className:"fixed bottom-0 left-0 mx-auto w-full items-center space-y-4 bg-[#F8F8F8] p-10 dark:bg-[#18131ce8]",children:[e.jsx("div",{children:s&&((X=s==null?void 0:s.offersUnit)==null?void 0:X.length)>0&&new Date<=new Date(`${s==null?void 0:s.offersUnit[0].unitOfferDateEnd}`)&&new Date>=new Date(`${s==null?void 0:s.offersUnit[0].unitOfferDateStart}`)&&((M=s==null?void 0:s.offersUnit)==null?void 0:M.map((y,N)=>e.jsx(Xe,{offer:y,hideDetails:!0},N)))}),e.jsxs("div",{className:"flex items-baseline justify-between text-end",children:[e.jsxs("p",{children:[s==null?void 0:s.areaUnitPrice," ",a("unitDetail.left-aside.night")]}),e.jsxs("p",{children:[a("unitDetail.left-aside.total")," ",x>0?f:pe(1,t.language)," ",e.jsxs("span",{className:"text-[2rem] font-[700] text-black dark:text-[var(--white-color)]",children:[C&&e.jsx("span",{className:"inline-block",children:e.jsx(ve,{})}),!C&&((u==null?void 0:u.total)||(s==null?void 0:s.areaUnitPrice))," "]}),a("unitDetail.left-aside.SR")]})]}),e.jsx(ue,{onClick:L,className:"w-full",disabled:C||!(n&&l)||m<1||!z,children:a("unitDetail.left-aside.choose")})]})]})]}),e.jsx(Jt,{limit:1,pauseOnFocusLoss:!1,closeOnClick:!0,newestOnTop:!0})]})};export{wa as default};
